<app-sidebar></app-sidebar>

<div class="page-size">
  
 
      <div class="pcoded-inner-content">
        <!-- Main-body start -->
        <div class="main-body">

          <!-- Page-body start -->
          <div class="page-body">


            <div class="card">
              <div class="card-header">
                <h5>About Us</h5>
              </div>

              <div class="card-block table-border-style">
                <div class="table-responsive">


                  <button class="btn btn-primary waves-effect waves-light mb-2" (click)="OpenCreate()">
                    <i class="fa fa-plus"></i>New
                  </button>
                  <table datatable  [dtTrigger]="this.dtTrigger"  class="table table-hover " style="width:100%;table-layout: auto;">
               
                    <thead>
                      <tr>
                        <th scope="col"> Image</th>
                        <th scope="col">Name</th>
                
                       
                       
                        <th scope="col">Operation</th>

                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let obj of aboutus" >
                        <td><img src="../../../assets/images/{{obj.imagePath1}}"  width="70px"></td>
                        <td >{{obj.aboutUsName}}</td>
                    
                      
                        
                        
                        <td> 
                          <button  class=" btn btn-inverse waves-effect waves-light" (click)="goToProfile(obj)"><i class="fa fa-info-circle" aria-hidden="true"></i>More Details</button>
                          <button class="btn btn-primary waves-effect waves-light" (click)="OpenUpdate(obj)"><i
                              class="fa fa-edit"></i></button>
                          <button class="btn btn-danger waves-effect waves-light "
                            (click)="deleteAbout(obj.aboutUsId)"><i class="fa fa-trash"></i></button>
                        </td>
                      </tr>
                    </tbody>
                  </table>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
 



  <!-- create  -->
  <!-- create  -->
  <ng-template #CreateAbout>

    <h2 mat-dialog-title>Add New About us</h2>
    <mat-dialog-content class="mat-typography">  

        <form [formGroup]="AboutUs" class="example-form" >
      <div class="row "> 
            <div class=" col-12 ">
              <mat-form-field class="example-full-width btn-edit" appearance="outline">
                <mat-label >Name</mat-label>
              <input type="text" matInput  formControlName="aboutUsName" >
              <mat-error *ngIf="AboutUs.controls['aboutUsName'].hasError('required')">
                 <strong>required</strong>
            </mat-error>
    
            </mat-form-field>
            </div>
        
            <div class="col-12">
            <mat-form-field class="example-full-width btn-edit " appearance="outline">
                 <mat-label >Main Header</mat-label>
                <input type="text" matInput formControlName="header1" >
                <mat-error *ngIf="AboutUs.controls['header1'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>
          

<mat-form-field class="example-full-width btn-edit" appearance="outline">
  <mat-label >Second Header</mat-label>

                <input type="text" matInput   formControlName="header2" >
                <mat-error *ngIf="AboutUs.controls['header2'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>

<mat-form-field class="example-full-width btn-edit" appearance="outline">
  <mat-label >First Point</mat-label>

                <input type="text" matInput   formControlName="text1" >
                <mat-error *ngIf="AboutUs.controls['text1'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>


<mat-form-field class="example-full-width btn-edit" appearance="outline">
  <mat-label >Second Point</mat-label>

                <input type="text" matInput  formControlName="text2" >
                <mat-error *ngIf="AboutUs.controls['text2'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>
            </div>

              <div class=" border rounded p-2 col-3 btn-edit text-center form-left">
                <p class="fw-bold "> Image</p>
                <input type="file"  #file class="form-control" formControlName="imagePath1" (change)="uploadImage(file.files,'imagePath1')">
              </div>



              </div>

          </form>
    </mat-dialog-content>


  


    <mat-dialog-actions align="end">
      <div class="col-md-12 text-center">
      <button class="btn btn-primary btn-edit" [mat-dialog-close]="true" (click)="newAbout()">Create</button>
      <button class="btn btn-secondary   " mat-dialog-close >Cancel</button>
      </div>
    </mat-dialog-actions>
    
</ng-template>
 <!-- create  -->
    
<!-- Update About Us -->
<ng-template #UpdateAbout>

    <h2 mat-dialog-title>Update about Us</h2>
    <mat-dialog-content class="mat-typography">       
        <form [formGroup]="AboutUsUpdate" class="example-form" >
          <div class="row ">

            <div class="col-12">
              <mat-form-field class="example-full-width btn-edit" appearance="outline">
                <mat-label >Name</mat-label>
              <input type="text" matInput  formControlName="aboutUsName"[(ngModel)]="p_data.aboutUsName"  >
              <mat-error *ngIf="AboutUsUpdate.controls['aboutUsName'].hasError('required')">
                 <strong>required</strong>
            </mat-error>
            </mat-form-field>
          </div>
          <div class="col-12">

                <mat-form-field class="example-full-width btn-edit" appearance="outline">
                  <mat-label >Main Header</mat-label>

                  <input type="text" matInput   formControlName="header1" [(ngModel)]="p_data.header1" >
                <mat-error *ngIf="AboutUsUpdate.controls['header1'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>


                <mat-form-field class="example-full-width btn-edit" appearance="outline">
                  <mat-label >Second Header</mat-label>

                  <input type="text" matInput   formControlName="header2" [(ngModel)]="p_data.header2" >
                <mat-error *ngIf="AboutUsUpdate.controls['header2'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>
        

                <mat-form-field class="example-full-width btn-edit" appearance="outline">
                  <mat-label >First Point</mat-label>

                  <input type="text" matInput   formControlName="text1" [(ngModel)]="p_data.text1" >
                <mat-error *ngIf="AboutUsUpdate.controls['text1'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>

                                  <mat-form-field class="example-full-width btn-edit"  appearance="outline">
                                    <mat-label >Second Point</mat-label>
                                    <input type="text" matInput   formControlName="text2" [(ngModel)]="p_data.text2" >
                <mat-error *ngIf="AboutUsUpdate.controls['text2'].hasError('required')">
                   <strong>required</strong>
              </mat-error>
              </mat-form-field>
            </div>

              <div class=" border rounded p-2 col-7 btn-edit text-center form-left">
                <p class="fw-bold ">First Image</p>
                <br/>
                <img src="../../../assets/images/{{p_data.imagePath1}}" width="300px" class="pb-4">
                <input type="file"  class="form-control" #file formControlName="imagePath1" (change)="uploadImage(file.files,'imagePath1')" >
              </div>        
<!-- 
              <div class=" border rounded p-2 col-3 btn-edit text-center">
                <p class="fw-bold ">Second Image</p>
                <br/>
                <img src="../../../assets/images/{{p_data.imagePath2}}" width="100px" class="pb-4">
                <input type="file" class="form-control" #file2 formControlName="imagePath2" (change)="uploadImage(file2.files,'imagePath2')" >
                
              </div>

              <div class=" border rounded p-2 col-3 text-center">
                <p class="fw-bold ">Third Image</p>
                <br/>
                <img src="../../../assets/images/{{p_data.imagePath3}}" width="100px" class="pb-4">
                <input type="file" class="form-control" #file3 formControlName="imagePath3" (change)="uploadImage(file3.files,'imagePath3')" >

              </div> -->

           
</div>
          </form>
    </mat-dialog-content>
    <mat-dialog-actions align="end" class="text-center">
      <div class="col-md-12 text-center">

      <button class="btn btn-primary waves-effect waves-light" [mat-dialog-close]="true" (click)="UpdateAboutUs()">Update</button>
      <button class="btn btn-inverse waves-effect waves-light" mat-dialog-close >Cancel</button>
</div>
    </mat-dialog-actions>
    
</ng-template>
<!-- Update About Us -->

<ng-template #DeleteAbout>

  <h2>Are You Sure you want to delete this item?</h2>
  <button mat-dialog-close="yes" class="btn btn-danger waves-effect waves-light">Yes</button>
  <button mat-dialog-close="no" class="btn btn-primary waves-effect waves-light">No</button>
  </ng-template>
  
  <ng-template #DetailsAbout>
  
  
  
    <h5 class="card-header-text m-b-10">About Us</h5>
  
  
    <div class="row" cdkScrollable>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="card-header-text">Image </h5>
            <div class="card-block">
  
              <img src="../../../assets/images/{{selectedAbout.imagePath1}}" height="100px">
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="card-header-text">Main Header </h5>
            <div class="card-block">
              <p>{{selectedAbout.header1}}</p>
            </div>
          </div>
        </div>
      </div>
  
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="card-header-text">Second Header</h5>
            <div class="card-block">
              <p>{{selectedAbout.header2}}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="card-header-text">First Point</h5>
            <div class="card-block">
              <p>{{selectedAbout.text1}}</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            <h5 class="card-header-text">Second Point</h5>
            <div class="card-block">
        <p>{{selectedAbout.text2}}</p>
        </div>
        </div>
        </div>

      </div>
  
      <div class="col-md-12 mt-4">
        <button class="btn btn-primary waves-effect waves-light" (click)="OpenUpdate(selectedAbout)"><i
            class="fa fa-edit"></i></button>
        <button class="btn btn-danger waves-effect waves-light " (click)="deleteAbout(selectedAbout.aboutUsId)"><i
            class="fa fa-trash"></i></button>
      </div>
  
    </div>
  
  
  
  
  
  </ng-template>